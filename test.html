<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Dashboard - Simples</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <h1>üß™ Teste do Dashboard de Produtividade</h1>
    
    <div class="test-section">
        <h3>üìä Status dos Componentes</h3>
        <div id="status"></div>
    </div>
    
    <div class="test-section">
        <h3>üéØ Testes de Funcionalidade</h3>
        <button onclick="testDashboard()">Testar Dashboard</button>
        <button onclick="testCharts()">Testar Gr√°ficos</button>
        <button onclick="addTestData()">Adicionar Dados de Teste</button>
    </div>
    
    <div class="test-section">
        <h3>üìù Log de Testes</h3>
        <div id="log"></div>
    </div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    
    <!-- Nossos scripts -->
    <script src="js/app.js"></script>
    <script src="js/charts.js"></script>
    
    <script>
        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const className = type === 'error' ? 'error' : type === 'success' ? 'success' : 'warning';
            
            logDiv.innerHTML += `<div class="${className}">[${timestamp}] ${message}</div>`;
            console.log(message);
        }
        
        function updateStatus() {
            const statusDiv = document.getElementById('status');
            let html = '';
            
            // Verificar Chart.js
            if (typeof Chart !== 'undefined') {
                html += '<div class="success">‚úÖ Chart.js carregado</div>';
            } else {
                html += '<div class="error">‚ùå Chart.js n√£o carregado</div>';
            }
            
            // Verificar Dashboard
            if (window.dashboard) {
                html += '<div class="success">‚úÖ Dashboard inicializado</div>';
            } else {
                html += '<div class="error">‚ùå Dashboard n√£o inicializado</div>';
            }
            
            // Verificar Charts
            if (window.dashboard && window.dashboard.charts) {
                html += '<div class="success">‚úÖ Sistema de gr√°ficos ativo</div>';
            } else {
                html += '<div class="warning">‚ö†Ô∏è Sistema de gr√°ficos n√£o ativo</div>';
            }
            
            statusDiv.innerHTML = html;
        }
        
        function testDashboard() {
            log('üß™ Testando dashboard...');
            
            if (window.dashboard) {
                log('‚úÖ Dashboard encontrado', 'success');
                log(`üìä M√©tricas: ${JSON.stringify(window.dashboard.metrics)}`, 'success');
            } else {
                log('‚ùå Dashboard n√£o encontrado', 'error');
            }
        }
        
        function testCharts() {
            log('üìä Testando gr√°ficos...');
            
            if (window.dashboard && window.dashboard.charts) {
                log('‚úÖ Sistema de gr√°ficos ativo', 'success');
                log('üîÑ Atualizando gr√°ficos...', 'info');
                window.dashboard.charts.updateAllCharts();
            } else {
                log('‚ùå Sistema de gr√°ficos n√£o ativo', 'error');
            }
        }
        
        // Atualizar status quando a p√°gina carregar
        window.addEventListener('load', () => {
            setTimeout(updateStatus, 1000);
            setTimeout(updateStatus, 2000);
            setTimeout(updateStatus, 5000);
        });
        
        // Log de inicializa√ß√£o
        log('üöÄ P√°gina de teste carregada');
        log('‚è≥ Aguardando inicializa√ß√£o dos componentes...');
    </script>
</body>
</html>