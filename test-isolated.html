<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Isolado Chart.js</title>
    <style>
        body {
            background: #0a0a0f;
            color: #f8fafc;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        
        .chart-container {
            background: rgba(26, 26, 46, 0.5);
            border: 1px solid #6366f1;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            width: 100%;
            max-width: 600px;
        }
        
        canvas {
            max-width: 100%;
            height: auto;
        }
        
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            background: #1f2937;
        }
    </style>
</head>
<body>
    <h1>üîç Teste Isolado Chart.js</h1>
    
    <div id="status" class="status">
        Carregando...
    </div>
    
    <div class="chart-container">
        <h3>Teste Simples - Bar Chart</h3>
        <canvas id="test-chart-1" width="400" height="200"></canvas>
    </div>
    
    <div class="chart-container">
        <h3>Teste Simples - Line Chart</h3>
        <canvas id="test-chart-2" width="400" height="200"></canvas>
    </div>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <script>
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
            console.log(message);
        }
        
        function testCharts() {
            updateStatus('Verificando Chart.js...');
            
            if (typeof Chart === 'undefined') {
                updateStatus('‚ùå Chart.js n√£o carregado!');
                return;
            }
            
            updateStatus('‚úÖ Chart.js carregado! Vers√£o: ' + Chart.version);
            
            try {
                // Teste 1: Bar Chart
                const ctx1 = document.getElementById('test-chart-1');
                if (!ctx1) {
                    updateStatus('‚ùå Canvas test-chart-1 n√£o encontrado!');
                    return;
                }
                
                const chart1 = new Chart(ctx1, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Fev', 'Mar', 'Abr'],
                        datasets: [{
                            label: 'Teste Bar',
                            data: [12, 19, 3, 15],
                            backgroundColor: '#6366f1'
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { labels: { color: '#f8fafc' } }
                        },
                        scales: {
                            x: { ticks: { color: '#f8fafc' } },
                            y: { ticks: { color: '#f8fafc' } }
                        }
                    }
                });
                
                updateStatus('‚úÖ Chart 1 (Bar) criado com sucesso!');
                
                // Teste 2: Line Chart
                const ctx2 = document.getElementById('test-chart-2');
                if (!ctx2) {
                    updateStatus('‚ùå Canvas test-chart-2 n√£o encontrado!');
                    return;
                }
                
                const chart2 = new Chart(ctx2, {
                    type: 'line',
                    data: {
                        labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex'],
                        datasets: [{
                            label: 'Teste Line',
                            data: [5, 8, 2, 10, 7],
                            borderColor: '#10b981',
                            backgroundColor: '#10b98120',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { labels: { color: '#f8fafc' } }
                        },
                        scales: {
                            x: { ticks: { color: '#f8fafc' } },
                            y: { ticks: { color: '#f8fafc' } }
                        }
                    }
                });
                
                updateStatus('‚úÖ Chart 2 (Line) criado com sucesso!');
                
                // Verificar se os gr√°ficos persistem ap√≥s 5 segundos
                setTimeout(() => {
                    const canvas1 = document.getElementById('test-chart-1');
                    const canvas2 = document.getElementById('test-chart-2');
                    
                    const visible1 = canvas1 && canvas1.offsetWidth > 0 && canvas1.offsetHeight > 0;
                    const visible2 = canvas2 && canvas2.offsetWidth > 0 && canvas2.offsetHeight > 0;
                    
                    if (visible1 && visible2) {
                        updateStatus('‚úÖ Ambos os gr√°ficos ainda vis√≠veis ap√≥s 5s!');
                    } else {
                        updateStatus('‚ùå Gr√°ficos desapareceram! Canvas1: ' + visible1 + ', Canvas2: ' + visible2);
                    }
                }, 5000);
                
            } catch (error) {
                updateStatus('‚ùå Erro ao criar gr√°ficos: ' + error.message);
                console.error('Stack trace:', error);
            }
        }
        
        // Aguardar carregamento
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(testCharts, 1000);
            });
        } else {
            setTimeout(testCharts, 1000);
        }
    </script>
</body>
</html>